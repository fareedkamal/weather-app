(()=>{"use strict";const e=document.getElementById("locImg"),t=document.getElementById("locImgSrc");let n;const r=document.getElementById("loc-value"),i=document.getElementById("wtemp"),o=document.getElementById("wstate"),l=document.getElementById("wdate"),c=document.getElementById("weatherinfo"),s=document.getElementById("wstateicon"),d=document.getElementById("daily-weather"),a=document.getElementById("dtemp"),m=document.getElementById("leftarrow");function u(e,t){let n=new Date(e),r=n.toLocaleDateString("en-us",{weekday:"long"}),i=n.toLocaleDateString("en-us",{month:"long"}),o=n.getDate(),l=n.getFullYear().toString().substring(2);return"short"==t?`${r.substring(0,3)} ${o}, ${i.substring(0,3)} '${l}`:`${r} ${o}, ${i} '${l}`}function h(e){let t=e.target;for(;"dailycard-wrapper"!=t.className;)t=t.parentNode;g(n[t.id])}function g(e){i.innerText=Math.ceil(e.temp)+"°",l.innerText=u(e.datetime),o.innerText=`${e.conditions.split(",",1)}`,s.className=`weather-icon ${e.icon}`,c.children[0].children[2].innerText=`${Math.ceil(e.feelslike)}°`,c.children[1].children[2].innerText=`${e.precipprob} %`,c.children[2].children[2].innerText=`${e.humidity} %`,c.children[3].children[2].innerText=`${e.windspeed} km`}document.getElementById("rightarrow").onclick=e=>{let t=d.scrollLeft;t+=200,d.scroll({left:t,behavior:"smooth"})},m.onclick=e=>{let t=d.scrollLeft;t-=200,d.scroll({left:t,behavior:"smooth"})};const y=function(i){(async function(n){let r=`https://api.unsplash.com/photos/random/?query=${n}&client_id=0b-70kuE4yEK3MgAkfFu3UmCL0sT90lBnqXvnq6qIZ0`;try{let n=await fetch(r),i=await n.json(),o=i.urls.regular,l=i.user.portfolio_url;e.style.transition="ease-in-out 1s",e.style.backgroundImage=`url(${o})`,t.innerText=i.user.name,t.setAttribute("href",l)}catch(e){console.log(e)}})(i.resolvedAddress),r.textContent=i.resolvedAddress,g(i.days[0],i.timezone),function(e){d.innerHTML="",n=e;for(const t in e){const n=a.cloneNode(!0);n.id=t,n.className="dailycard-wrapper",n.children[0].children[0].children[0].innerText=Math.ceil(e[t].temp)+"°",n.children[0].children[1].innerText=e[t].conditions.split(",",1),n.children[0].children[0].children[1].classList.add(`${e[t].icon}`),n.children[0].children[2].innerText=u(e[t].datetime,"short"),n.onclick=h,d.appendChild(n)}}(i.days)},p=document.getElementById("search-sec"),w=document.getElementById("se-inp"),f=document.getElementById("se-error");async function E(e){let t=`https://weather.visualcrossing.com/VisualCrossingWebServices/rest/services/timeline/${e}?&key=J2BDR7FBKT3YE359V2F556PSQ&unitGroup=uk&lang=en`;try{let e=await fetch(t),n=await e.json();f.classList.contains("error-msg-show")&&f.classList.replace("error-msg-show","hide"),y(n)}catch{console.log("Error"),f.classList.contains("error-msg-show")||f.classList.replace("hide","error-msg-show")}}p.onsubmit=e=>{e.preventDefault(),E(w.value)},E("London")})();